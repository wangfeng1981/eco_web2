function getPageRoot(){var e=window.location.protocol+"//"+window.location.host;if("localhost"==window.location.hostname){var t=window.location.pathname;0==t.indexOf("/")&&(t=t.substring(1)),""!=(t=t.split("/",1))&&(e=e+t+"/")}return currentFolderAndPage=window.location.pathname,lastSlashPos=currentFolderAndPage.lastIndexOf("/"),justThePath=currentFolderAndPage.substring(0,lastSlashPos),pageRoot=e+justThePath+"/",pageRoot}function fileExists(e){if(e){var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(),200==t.status}return!1}function zipHandler(e,t,n){if(document.getElementById("displayImage1")&&(document.getElementById("displayImage1").src="images/1pix.gif",document.getElementById("displayImage1").alt="1 pix placeholder for text file display",document.getElementById("displayImage1").title="1 pix placeholder for text file display",document.getElementById("displayImage1").parentNode.href="images/1pix.gif",document.getElementById("imageFullPath").value="cannot animate",document.getElementById("imageRealTitle").value=n),fileExists(e))var a="<ul>\n<li><a href='"+e+"'>"+t+"</a></li>\n</ul>";else a="<ul>\n<li><strong>'"+t+"'</strong> is unavailable.</li>\n</ul>";document.getElementById("textContainer")&&(document.getElementById("textContainer").innerHTML=a)}function textFileHandler(e,t,n){if(document.getElementById("displayImage1")&&(document.getElementById("displayImage1").src="images/1pix.gif",document.getElementById("displayImage1").alt="1 pix placeholder for text file display",document.getElementById("displayImage1").title="1 pix placeholder for text file display",document.getElementById("displayImage1").parentNode.href="images/1pix.gif"),fileExists(e)){var a="<iframe src='"+e+"' id='txtCont' style='width: 98%; height: 700px; border: 0px solid #fff; margin: 9px;'></iframe>";document.getElementById("imageFullPath").value=e,document.getElementById("imageRealTitle").value=n}else a="<p><strong>"+t+"</strong> is not yet available.</p>";document.getElementById("textContainer")&&(document.getElementById("textContainer").innerHTML=a)}function fileExtension(e){return PeriodLocation=e.lastIndexOf("."),fileExtensionLocation=e.substring(PeriodLocation+1),fileExtensionLocation.toLowerCase()}function datePickerToJDO(e){var t=e.substr(6,4),n=e.substr(0,2)-1,a=e.substr(3,2),l=new Date;return l.setFullYear(t,n,a),l}function pushTitleAndSource(e){displayImageSrc=document.getElementById("displayImage1").src,-1!==displayImageSrc.indexOf("missing.png")&&(document.getElementById("imageFullPath").value=document.getElementById("displayImage1").title,document.getElementById("imageRealTitle").value=document.getElementById("displayImage1").alt),-1!==displayImageSrc.indexOf("1pix.gif")?(contentExtension=fileExtension(document.getElementById("imageFullPath").value),"txt"==contentExtension.toLowerCase()&&(document.getElementById("imageFullPath").value=e),document.getElementById("imageRealTitle").title=document.getElementById("imageRealTitle").value):(document.getElementById("imageFullPath").value=document.getElementById("displayImage1").src,document.getElementById("imageRealTitle").value=document.getElementById("displayImage1").title)}function dayIncr(e){document.getElementById("errorTextContainer")&&(document.getElementById("errorTextContainer").innerHTML=""),document.getElementById("textContainer")&&(document.getElementById("textContainer").innerHTML=""),imageSelectBoxes=document.querySelectorAll("select.imageList");var t=document.getElementById("datePick").value;if(requestedDate=datePickerToJDO(t),"+1"==e)var n=new Date(requestedDate.getFullYear(),requestedDate.getMonth(),requestedDate.getDate()+1);if("0"==e)n=new Date(requestedDate.getFullYear(),requestedDate.getMonth(),requestedDate.getDate());if("-1"==e)n=new Date(requestedDate.getFullYear(),requestedDate.getMonth(),requestedDate.getDate()-1);var a=("0"+(n.getMonth()+1)).slice(-2),l=n.getFullYear(),i=("0"+n.getDate()).slice(-2),d=l+a+i,o=a+"-"+i+"-"+l;if($picker=document.getElementById("parameter"),$pickerIndex=$picker.selectedIndex,$pickerValue=$picker[$pickerIndex].value,$pickerValue)var r=$pickerValue.substr(0,$pickerValue.length-9);if(document.getElementById(r).selectedIndex)var s=document.getElementById(r).selectedIndex,m=document.getElementById(r).options[s];else s=0,m=document.getElementById(r).options[0];var c=m.className,u=m.value,g=m.value,p=(u=d+"_"+u,u=c+"/"+l+"/"+a+"/"+u,$picker[$pickerIndex].text+(" - "+m.text)+" - "+o),y=document.getElementById("satellite_instr").value+" - "+p,I=fileExtension(u),f=I.toLowerCase();"gif"!=f&&"png"!=f&&"jpg"!=f||document.getElementById("displayImage1")&&(document.getElementById("displayImage1").src=u,document.getElementById("displayImage1").alt=y,document.getElementById("displayImage1").title=y,document.getElementById("displayImage1").parentNode.href=u),"txt"==I&&(document.getElementById("displayImage1").alt=u,textFileHandler(u,p,y)),"zip"==I&&zipHandler(u,p,y),document.getElementById("datePick").value=o,checkStepButtons(n),document.getElementById("filenameStub").value=g,pushTitleAndSource(u)}function dayIncrZeroCase(){dayIncr("0")}function stepBackAhead(e){pageRoot=getPageRoot(),clearErrors(),document.getElementById("textContainer").innerHTML="";var t=document.getElementById("datePick").value,n=t.substr(6,4),a=t.substr(0,2)-1,l=t.substr(0,2),i=t.substr(3,2),d=t.substr(6,4)+t.substr(0,2)+t.substr(3,2),o=(new Date(n,a,i),document.getElementById("parameter").selectedIndex);imageSelectBoxes=document.querySelectorAll("select.imageList");var r=imageSelectBoxes[o],s=r.length,m=r.selectedIndex;"+1"==e&&(m==s-1?m=0:m+=1),"-1"==e&&(0==m?m=s-1:m-=1),r.options[m].selected=!0;var c=r[m].value,u=r[m].value,g=(c=r.options[m].className+"/"+n+"/"+l+"/"+(c=d+"_"+c),document.getElementById("parameter")[o].text),p=" - "+r[m].text,y=document.getElementById("satellite_instr").value+" - "+g+p+" - "+t,I=g+p+" - "+t,f=fileExtension(c);"gif"!=f&&"png"!=f&&"jpg"!=f||(document.getElementById("displayImage1").src=c,document.getElementById("displayImage1").alt=y,document.getElementById("displayImage1").title=y,document.getElementById("displayImage1").parentNode.href=c),"txt"==f&&textFileHandler(c,I,y),"zip"==f&&zipHandler(c,I,y),document.getElementById("filenameStub").value=u,pushTitleAndSource(c)}function checkStepButtons(e){var t=new Date;t.setFullYear(2e3,0,1);var n=new Date;if((e-t)/864e5<1){var a=document.getElementById("previous"),l=document.getElementById("stepLeft");a.removeChild(l),a.innerHTML="<span id='stepLeft' class='previousOff'><</span>";var i=document.getElementById("next"),d=document.getElementById("stepRight");i&&(i.removeChild(d),i.innerHTML="<a id='stepRight' onClick='dayIncr(\"+1\");' href='javascript:void(0);' class='NoImage'>></a>")}if((n-e)/864e5>1&&(e-t)/864e5>=1){a=document.getElementById("previous"),l=document.getElementById("stepLeft");a.removeChild(l),a.innerHTML="<a id='stepLeft' onClick='dayIncr(\"-1\");' href='javascript:void(0);' class='NoImage'><</a>";i=document.getElementById("next"),d=document.getElementById("stepRight");i.removeChild(d),i.innerHTML="<a id='stepRight' onClick='dayIncr(\"+1\");' href='javascript:void(0);' class='NoImage'>></a>"}if((n-e)/864e5<1){a=document.getElementById("previous"),l=document.getElementById("stepLeft");a&&(a.innerHTML="",a.innerHTML="<a id='stepLeft' onClick='dayIncr(\"-1\");' href='javascript:void(0);' class='NoImage'><</a>");i=document.getElementById("next"),d=document.getElementById("stepRight");i&&(i.innerHTML="",i.innerHTML="<span id='stepRight' class='nextOff'>></span>")}}function showParams(){selectBoxes=document.querySelectorAll("div.selectBox"),howMany=selectBoxes.length;var e=0;for(e=0;e<=howMany;e++)void 0!==selectBoxes[e]&&(selectBoxes[e].style.display="none");if($picker=document.getElementById("parameter"),$pickerIndex=$picker.selectedIndex,$pickerValue=$picker[$pickerIndex].value,$pickerValue){document.getElementById($pickerValue).style.display="block";var t=$pickerValue.length,n=$pickerValue.substr(0,t-9),a=document.getElementById(n).length,l=document.getElementById($pickerValue).childNodes;1==a&&(l[2].innerHTML="<span class='prevOff'><</span>",l[2].title="step disabled; only one metric for this parameter",l[5].innerHTML="<span class='nextOff'>></span>",l[5].title="step disabled; only one metric for this parameter"),1!==a&&(l[2].innerHTML="<a class='incrLeft NoImage' onClick='stepBackAhead(\"-1\");' href='javascript:void(0);'><</a>",l[2].title="display previous image",l[5].innerHTML="<a class='incrRight NoImage' onClick='stepBackAhead(\"+1\");' href='javascript:void(0);'>></a>",l[5].title="display next image")}}function parse_url(e,t){try{this.php_js=this.php_js||{}}catch(e){this.php_js={}}for(var n=this.php_js&&this.php_js.ini||{},a=n["phpjs.parse_url.mode"]&&n["phpjs.parse_url.mode"].local_value||"php",l=["source","scheme","authority","userInfo","user","pass","host","port","relative","path","directory","file","query","fragment"],i={php:/^(?:([^:\/?#]+):)?(?:\/\/()(?:(?:()(?:([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?()(?:(()(?:(?:[^?#\/]*\/)*)()(?:[^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,strict:/^(?:([^:\/?#]+):)?(?:\/\/((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?))?((((?:[^?#\/]*\/)*)([^?#]*))(?:\?([^#]*))?(?:#(.*))?)/,loose:/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/\/?)?((?:(([^:@\/]*):?([^:@\/]*))?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/},d=i[a].exec(e),o={},r=14;r--;)d[r]&&(o[l[r]]=d[r]);if(t)return o[t.replace("PHP_URL_","").toLowerCase()];if("php"!==a){var s=n["phpjs.parse_url.queryKey"]&&n["phpjs.parse_url.queryKey"].local_value||"queryKey";i=/(?:^|&)([^&=]*)=?([^&]*)/g,o[s]={},(o[l[12]]||"").replace(i,function(e,t,n){t&&(o[s][t]=n)})}return delete o.source,o}